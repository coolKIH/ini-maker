define(["../core","../data/var/dataPriv","../css/var/isHiddenWithinTree"],function(k,l,m){function h(d,h){for(var e,a,f=[],b=0,n=d.length;b<n;b++)if(a=d[b],a.style)if(e=a.style.display,h){if("none"===e&&(f[b]=l.get(a,"display")||null,f[b]||(a.style.display="")),""===a.style.display&&m(a)){e=b;var c;c=a.ownerDocument;a=a.nodeName;var g=p[a];g?c=g:(c=c.body.appendChild(c.createElement(a)),g=k.b(c,"display"),c.parentNode.removeChild(c),"none"===g&&(g="block"),c=p[a]=g);f[e]=c}}else"none"!==e&&(f[b]=
"none",l.set(a,"display",e));for(b=0;b<n;b++)null!=f[b]&&(d[b].style.display=f[b]);return d}var p={};k.f.extend({show:function(){return h(this,!0)},a:function(){return h(this)},toggle:function(d){return"boolean"===typeof d?d?this.show():this.a():this.c(function(){m(this)?k(this).show():k(this).a()})}});return h});
